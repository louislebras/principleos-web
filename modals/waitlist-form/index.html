<div class="modal modal-example">
    <div class="modal-content">

        <div class="waitlist-wrapper-form">
            <p class="lss-size">Join Waitlist</p>

            <!-- <form action="https://formbold.com/s/oP5GV" method="POST">
                <input class="name-waitlist" type="text" placeholder="Name" name="name" required>
                <input class="email-waitlist" type="email" placeholder="E-mail" name="email" required>
                <button type="submit">Join</button>
            </form> -->

            <form id="waitlistForm">
                <input class="name-waitlist" name="name" placeholder="Name" required />
                <input class="email-waitlist" name="email" type="email" placeholder="Email" required />
                <button type="submit">Joint</button>
            </form>
            <p class="only-mobile no-mobile" id="responseMessage"></p>

            <script>
                const form = document.getElementById("waitlistForm");
                form.addEventListener("submit", async (e) => {
                    e.preventDefault();
                    console.log("‚úÖ Form intercepted");

                    const data = {
                        name: form.elements["name"].value,
                        email: form.elements["email"].value,
                    };

                    const res = await fetch("/api/waitlist", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify(data),
                    });

                    if (res.ok) {
                        alert("üéâ Merci !");
                        form.reset();
                    } else {
                        alert("‚ùå Erreur.");
                    }
                });
            </script>
            <p class="close-modal s-size link-hover grey btn-back-waitlist">‚Üê Back</p>

        </div>

    </div>
</div>

<div class="close-modal blur-back-waitlist"></div>